Auth 

testuser
testuserpassword


- add refresh tokens?


What It Does
When you use OAuth2/OIDC authentication (e.g., with Keycloak, Auth0, Okta), the login flow works like this:
User hits Gateway → Gateway redirects to Identity Provider (Keycloak)
User logs in at Keycloak → Keycloak redirects back with authorization code
Gateway exchanges code for access token (JWT)
Gateway stores the token in a session (in-memory ConcurrentHashMap by default)
Now, when requests come in:
User sends a session cookie (not the token itself)
Gateway looks up the session → finds the stored access token
TokenRelay filter automatically extracts that token and adds it as Authorization: Bearer <token> header to downstream services


Key Functionalities to Learn
Path Rewriting & Stripping: Modify the URI before it reaches the downstream service (e.g., removing a version prefix like /v1).

Rate Limiting with Redis: Prevent service abuse by limiting requests based on IP, user ID, or API keys.

Custom Global Filters: Implement cross-cutting concerns like logging execution time, adding correlation IDs, or custom security checks.

Circuit Breaker (Resilience4j): Gracefully handle downstream service failures by returning a "fallback" response instead of a 500 error.

Request/Response Transformation: Dynamically add, remove, or modify headers and body content (e.g., adding a X-Gateway-Auth header).

Query Parameter Routing: Route traffic to different versions of a service based on a version parameter in the URL.

Header-Based Routing: Implement "Canary" or "Blue-Green" deployments by routing users with a specific header (e.g., X-Beta-User: true) to a preview environment.




what is that:
Using generated security password: d34be65b-e26a-48f5-8d74-85b4c2696cf1



---------------

CommonsRequestLoggingFilter  

vs 

# Enable embedded Tomcat access logs (logs URL + status automatically)  
server.tomcat.accesslog.enabled=true  
server.tomcat.accesslog.pattern=%h %l %u %t "%r" %s %b  

# (Optional) conditionally log only specific statuses  
# server.tomcat.accesslog.condition-if="${response.status >= 400}"
— Spring Boot access logs built-in config logs URL and response code without custom code. 
runebook.dev

or using Spring’s built-in request logging (no body):

properties
Copy code
logging.level.org.springframework.web=TRACE
spring.mvc.log-request-details=true